<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Stories Compliance Test Runner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-suite {
            margin-bottom: 15px;
        }
        .test-suite h3 {
            color: #333;
            margin: 0 0 10px 0;
        }
        .test-result {
            padding: 8px 12px;
            margin: 5px 0;
            border-radius: 4px;
            font-family: monospace;
        }
        .pass {
            background-color: #d4edda;
            color: #155724;
            border-left: 4px solid #28a745;
        }
        .fail {
            background-color: #f8d7da;
            color: #721c24;
            border-left: 4px solid #dc3545;
        }
        .summary {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .compliance-status {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .compliant { color: #28a745; }
        .non-compliant { color: #dc3545; }
        .partial { color: #ffc107; }
    </style>
</head>
<body>
    <h1>User Stories Compliance Test Results</h1>
    <div id="test-results"></div>
    <div id="summary" class="summary"></div>

    <script>
        // Simple testing framework
        class TestRunner {
            constructor() {
                this.tests = [];
                this.results = [];
                this.currentSuite = '';
            }

            describe(name, fn) {
                this.currentSuite = name;
                console.log(`\n=== ${name} ===`);
                fn();
            }

            test(name, fn) {
                try {
                    fn();
                    this.results.push({
                        suite: this.currentSuite,
                        name: name,
                        status: 'pass',
                        error: null
                    });
                    console.log(`âœ“ ${name}`);
                } catch (error) {
                    this.results.push({
                        suite: this.currentSuite,
                        name: name,
                        status: 'fail',
                        error: error.message
                    });
                    console.log(`âœ— ${name} - ${error.message}`);
                }
            }

            expect(actual) {
                return {
                    toBeTruthy: () => {
                        if (!actual) throw new Error(`Expected ${actual} to be truthy`);
                    },
                    toBeFalsy: () => {
                        if (actual) throw new Error(`Expected ${actual} to be falsy`);
                    },
                    toBe: (expected) => {
                        if (actual !== expected) throw new Error(`Expected ${actual} to be ${expected}`);
                    },
                    toMatch: (pattern) => {
                        if (!pattern.test(actual)) throw new Error(`Expected ${actual} to match ${pattern}`);
                    },
                    toBeGreaterThan: (expected) => {
                        if (actual <= expected) throw new Error(`Expected ${actual} to be greater than ${expected}`);
                    },
                    toBeGreaterThanOrEqual: (expected) => {
                        if (actual < expected) throw new Error(`Expected ${actual} to be >= ${expected}`);
                    },
                    toBeLessThanOrEqual: (expected) => {
                        if (actual > expected) throw new Error(`Expected ${actual} to be <= ${expected}`);
                    }
                };
            }

            renderResults() {
                const container = document.getElementById('test-results');
                const summary = document.getElementById('summary');
                
                // Group results by suite
                const suites = {};
                this.results.forEach(result => {
                    if (!suites[result.suite]) suites[result.suite] = [];
                    suites[result.suite].push(result);
                });

                // Render each suite
                Object.keys(suites).forEach(suiteName => {
                    const suiteDiv = document.createElement('div');
                    suiteDiv.className = 'test-container';
                    
                    const suiteHeader = document.createElement('h3');
                    suiteHeader.textContent = suiteName;
                    suiteDiv.appendChild(suiteHeader);

                    suites[suiteName].forEach(test => {
                        const testDiv = document.createElement('div');
                        testDiv.className = `test-result ${test.status}`;
                        testDiv.textContent = `${test.status === 'pass' ? 'âœ“' : 'âœ—'} ${test.name}`;
                        if (test.error) {
                            testDiv.textContent += ` - ${test.error}`;
                        }
                        suiteDiv.appendChild(testDiv);
                    });

                    container.appendChild(suiteDiv);
                });

                // Render summary
                const totalTests = this.results.length;
                const passedTests = this.results.filter(r => r.status === 'pass').length;
                const failedTests = totalTests - passedTests;
                const passRate = ((passedTests / totalTests) * 100).toFixed(1);

                let complianceStatus = 'Non-Compliant';
                let statusClass = 'non-compliant';
                if (passRate >= 90) {
                    complianceStatus = 'Fully Compliant';
                    statusClass = 'compliant';
                } else if (passRate >= 70) {
                    complianceStatus = 'Partially Compliant';
                    statusClass = 'partial';
                }

                summary.innerHTML = `
                    <div class="compliance-status ${statusClass}">
                        Overall Compliance: ${complianceStatus} (${passRate}%)
                    </div>
                    <div>Total Tests: ${totalTests}</div>
                    <div>Passed: ${passedTests}</div>
                    <div>Failed: ${failedTests}</div>
                `;
            }
        }

        // Initialize test runner
        const runner = new TestRunner();
        const { describe, test, expect } = runner;

        // Run all compliance tests
        function runComplianceTests() {
            // Test Hero Section - User Story 1
            describe('Hero Section - User Story 1', () => {
                // Mock actual HTML structure from index.html
                document.body.innerHTML = `
                    <section class="hero" id="home">
                        <h1 class="hero__title">Transforming Industries With Cutting-Edge Technology</h1>
                        <p class="hero__description">We deliver innovative solutions that turn untapped potential and challenges into thriving possibilities</p>
                        <div class="hero__buttons">
                            <a href="#future-technologies" class="btn btn--primary">Explore Our Technologies</a>
                        </div>
                        <div class="hero__background">
                            <img src="satellite.jpg" alt="Satellite view" class="hero__satellite-bg">
                        </div>
                    </section>
                `;

                test('displays clear headline (max 10 words)', () => {
                    const headline = document.querySelector('.hero__title');
                    expect(headline).toBeTruthy();
                    expect(headline.textContent.split(' ').length).toBeLessThanOrEqual(10);
                });

                test('has subheadline with context', () => {
                    const subheadline = document.querySelector('.hero__description');
                    expect(subheadline).toBeTruthy();
                    expect(subheadline.textContent.length).toBeGreaterThan(0);
                });

                test('has primary CTA button', () => {
                    const ctaButton = document.querySelector('.btn--primary');
                    expect(ctaButton).toBeTruthy();
                });

                test('includes background image', () => {
                    const backgroundImage = document.querySelector('.hero__satellite-bg');
                    expect(backgroundImage).toBeTruthy();
                });
            });

            // Test Navigation - User Story 2
            describe('Navigation - User Story 2', () => {
                document.body.innerHTML = `
                    <header class="header">
                        <nav class="nav">
                            <a href="#home" class="nav__logo">Kravi Analytics</a>
                            <div class="nav__menu">
                                <a href="#home" class="nav__link">Home</a>
                                <a href="#future-technologies" class="nav__link">Future technologies</a>
                                <a href="#about" class="nav__link">About us</a>
                                <a href="contact.html" class="nav__link">Contact</a>
                            </div>
                            <div class="nav__toggle"></div>
                        </nav>
                    </header>
                `;

                test('navigation menu exists', () => {
                    const nav = document.querySelector('.nav');
                    expect(nav).toBeTruthy();
                });

                test('includes key sections', () => {
                    const homeLink = document.querySelector('a[href="#home"]');
                    const aboutLink = document.querySelector('a[href="#about"]');
                    const contactLink = document.querySelector('a[href="contact.html"]');
                    
                    expect(homeLink).toBeTruthy();
                    expect(aboutLink).toBeTruthy();
                    expect(contactLink).toBeTruthy();
                });

                test('has mobile hamburger menu', () => {
                    const navToggle = document.querySelector('.nav__toggle');
                    expect(navToggle).toBeTruthy();
                });

                test('logo links to homepage', () => {
                    const logoLink = document.querySelector('.nav__logo');
                    expect(logoLink).toBeTruthy();
                });
            });

            // Test Value Proposition - User Story 3
            describe('Value Proposition - User Story 3', () => {
                document.body.innerHTML = `
                    <section class="value-proposition">
                        <div class="value-proposition__grid">
                            <div class="value-proposition__card">
                                <div class="value-proposition__icon">âš¡</div>
                                <h3>Lightning Fast</h3>
                                <p>Experience unparalleled speed and performance</p>
                            </div>
                            <div class="value-proposition__card">
                                <div class="value-proposition__icon">ðŸ”’</div>
                                <h3>Secure & Reliable</h3>
                                <p>Enterprise-grade security</p>
                            </div>
                            <div class="value-proposition__card">
                                <div class="value-proposition__icon">ðŸš€</div>
                                <h3>Scalable Growth</h3>
                                <p>Solutions that grow with your business</p>
                            </div>
                            <div class="value-proposition__card">
                                <div class="value-proposition__icon">ðŸ’¡</div>
                                <h3>Innovation First</h3>
                                <p>Cutting-edge technology approaches</p>
                            </div>
                        </div>
                    </section>
                `;

                test('displays 3-4 key benefits', () => {
                    const cards = document.querySelectorAll('.value-proposition__card');
                    expect(cards.length).toBeGreaterThanOrEqual(3);
                    expect(cards.length).toBeLessThanOrEqual(4);
                });

                test('each benefit has icon, title, and description', () => {
                    const cards = document.querySelectorAll('.value-proposition__card');
                    cards.forEach(card => {
                        const icon = card.querySelector('.value-proposition__icon');
                        const title = card.querySelector('h3');
                        const description = card.querySelector('p');
                        
                        expect(icon).toBeTruthy();
                        expect(title).toBeTruthy();
                        expect(description).toBeTruthy();
                    });
                });
            });

            // Test Social Proof - User Story 4 (MISSING)
            describe('Social Proof - User Story 4 (MISSING)', () => {
                document.body.innerHTML = `<div>No social proof section exists</div>`;

                test('customer testimonials are missing', () => {
                    const testimonials = document.querySelectorAll('.testimonial');
                    expect(testimonials.length).toBe(0);
                });

                test('client logos are missing', () => {
                    const clientLogos = document.querySelectorAll('.client-logo');
                    expect(clientLogos.length).toBe(0);
                });

                test('metrics/achievements are missing', () => {
                    const metrics = document.querySelectorAll('.metric, .achievement');
                    expect(metrics.length).toBe(0);
                });
            });

            // Test About Section - User Story 5
            describe('About Section - User Story 5', () => {
                document.body.innerHTML = `
                    <section class="about">
                        <div class="about__text">
                            <h2>About Our Company</h2>
                            <p>Founded with a vision to revolutionize technology solutions...</p>
                        </div>
                        <div class="team__grid">
                            <div class="team__member">
                                <div class="team__member-image"></div>
                                <h4>John Doe</h4>
                                <span>CEO & Founder</span>
                            </div>
                        </div>
                    </section>
                `;

                test('displays company story', () => {
                    const aboutText = document.querySelector('.about__text');
                    expect(aboutText).toBeTruthy();
                });

                test('shows team members', () => {
                    const teamMembers = document.querySelectorAll('.team__member');
                    expect(teamMembers.length).toBeGreaterThan(0);
                });
            });

            // Test Contact Form - User Story 6
            describe('Contact Form - User Story 6', () => {
                document.body.innerHTML = `
                    <form id="contact-form">
                        <input type="text" name="subject" required>
                        <input type="text" name="name" required>
                        <input type="email" name="email" required>
                        <textarea name="message" required></textarea>
                        <button type="submit">Send Message</button>
                    </form>
                    <footer>
                        <p>ðŸ“§ info@kravianalytics.com</p>
                        <p>ðŸ“ž +1 (234) 567-890</p>
                    </footer>
                `;

                test('has essential form fields', () => {
                    const nameField = document.querySelector('input[name="name"]');
                    const emailField = document.querySelector('input[name="email"]');
                    const messageField = document.querySelector('textarea[name="message"]');
                    
                    expect(nameField).toBeTruthy();
                    expect(emailField).toBeTruthy();
                    expect(messageField).toBeTruthy();
                });

                test('has multiple contact options', () => {
                    const footer = document.querySelector('footer');
                    expect(footer.textContent).toMatch(/@/);
                    expect(footer.textContent).toMatch(/\+/);
                });

                test('privacy policy link is missing', () => {
                    const privacyLink = document.querySelector('a[href*="privacy"]');
                    expect(privacyLink).toBeFalsy();
                });
            });

            // Test SEO & Performance - User Story 9
            describe('SEO & Performance - User Story 9', () => {
                // Mock document head
                if (!document.querySelector('meta[name="description"]')) {
                    const metaDesc = document.createElement('meta');
                    metaDesc.name = 'description';
                    metaDesc.content = 'Kravi Analytics - Ocean surveillance';
                    document.head.appendChild(metaDesc);
                }

                test('proper meta tags exist', () => {
                    expect(document.title).toBeTruthy();
                    expect(document.querySelector('meta[name="description"]')).toBeTruthy();
                });

                test('Google Analytics is missing', () => {
                    const gaScript = document.querySelector('script[src*="google-analytics"]');
                    expect(gaScript).toBeFalsy();
                });

                test('Schema markup is missing', () => {
                    const schemaScript = document.querySelector('script[type="application/ld+json"]');
                    expect(schemaScript).toBeFalsy();
                });
            });

            runner.renderResults();
        }

        // Run tests when page loads
        window.addEventListener('load', runComplianceTests);
    </script>
</body>
</html>